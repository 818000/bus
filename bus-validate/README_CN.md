# ğŸ” Bus Validateï¼šè½»é‡çº§ Java éªŒè¯æ¡†æ¶

<p align="center">
<strong>å¼ºå¤§ã€çµæ´»ä¸”æ˜“äºä½¿ç”¨çš„éªŒè¯æ¡†æ¶</strong>
</p>

-----

## ğŸ“– é¡¹ç›®ç®€ä»‹

**Bus Validate** æ˜¯ä¸€ä¸ªè½»é‡çº§ã€é«˜æ€§èƒ½çš„ Java éªŒè¯æ¡†æ¶ï¼Œæ—¨åœ¨ç®€åŒ–ä¼ä¸šåº”ç”¨ç¨‹åºä¸­çš„æ•°æ®éªŒè¯ã€‚å®ƒæä¾›ä¸°å¯Œçš„å†…ç½®éªŒè¯å™¨ï¼ŒåŒæ—¶æ”¯æŒé€šè¿‡åŸºäºæ³¨è§£çš„é…ç½®è‡ªå®šä¹‰éªŒè¯é€»è¾‘ã€‚

**æ ¸å¿ƒç‰¹æ€§**ï¼š
- **åŸºäºæ³¨è§£**ï¼šä½¿ç”¨ Java æ³¨è§£è¿›è¡Œå£°æ˜å¼éªŒè¯
- **å¯æ‰©å±•**ï¼šæ˜“äºåˆ›å»ºè‡ªå®šä¹‰éªŒè¯å™¨
- **é›¶ä¾èµ–**ï¼šè½»é‡çº§è®¾è®¡ï¼Œæœ€å°ä¾èµ–
- **ç±»å‹å®‰å…¨**ï¼šç¼–è¯‘æ—¶éªŒè¯æ”¯æŒ
- **åµŒå¥—éªŒè¯**ï¼šæ”¯æŒéªŒè¯å¤æ‚å¯¹è±¡å›¾
- **åˆ†ç»„éªŒè¯**ï¼šä½¿ç”¨éªŒè¯ç»„éªŒè¯ä¸åŒåœºæ™¯
- **çµæ´»çš„é”™è¯¯å¤„ç†**ï¼šå¯è‡ªå®šä¹‰é”™è¯¯æ¶ˆæ¯å’Œä»£ç 

-----

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ¯ éªŒè¯èƒ½åŠ›

* **ä¸°å¯Œçš„å†…ç½®éªŒè¯å™¨**ï¼š20+ å¼€ç®±å³ç”¨çš„éªŒè¯æ³¨è§£
* **ç©ºå®‰å…¨å¤„ç†**ï¼šæ•´ä¸ªæ¡†æ¶ä¸­é€‚å½“çš„ç©ºå€¼å¤„ç†
* **åµŒå¥—å¯¹è±¡éªŒè¯**ï¼šæ·±åº¦éªŒè¯å¤æ‚å¯¹è±¡ç»“æ„
* **é›†åˆéªŒè¯**ï¼šéªŒè¯æ•°ç»„ã€é›†åˆå’Œæ˜ å°„
* **æ¡ä»¶éªŒè¯**ï¼šåŸºäºä¸åŒåœºæ™¯çš„åŸºäºåˆ†ç»„çš„éªŒè¯
* **è‡ªå®šä¹‰éªŒè¯å™¨**ï¼šè½»æ¾åˆ›å»ºè‡ªå·±çš„éªŒè¯é€»è¾‘
* **æ¶ˆæ¯æ¨¡æ¿**ï¼šçµæ´»çš„é”™è¯¯æ¶ˆæ¯æ ¼å¼ï¼Œæ”¯æŒå ä½ç¬¦

### âš¡ æ€§èƒ½ä¼˜åŒ–

| åŠŸèƒ½ | å¥½å¤„ | æè¿° |
| :--- | :--- | :--- |
| **å»¶è¿Ÿæ±‚å€¼** | ä½å¼€é”€ | ä»…åœ¨æ˜¾å¼è°ƒç”¨æ—¶éªŒè¯ |
| **åå°„ç¼“å­˜** | å¿«é€Ÿå¯åŠ¨ | ç¼“å­˜åå°„å…ƒæ•°æ®ä»¥æé«˜æ€§èƒ½ |
| **æœ€å°ä¾èµ–** | å°å ç”¨ | ä»…ä¾èµ– bus-logger å’Œ Lombok |
| **çº¿ç¨‹å®‰å…¨** | å¹¶å‘ä½¿ç”¨ | åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­å®‰å…¨ä½¿ç”¨ |

### ğŸ›¡ï¸ éªŒè¯è¦†ç›–

* **å­—ç¬¦ä¸²éªŒè¯**ï¼šé‚®ç®±ã€ç”µè¯ã€URLã€IP åœ°å€ã€æ­£åˆ™è¡¨è¾¾å¼ã€é•¿åº¦ã€å¤§å°
* **æ•°å­—éªŒè¯**ï¼šèŒƒå›´ã€å€æ•°ã€æ­£/è´Ÿ
* **ç±»å‹éªŒè¯**ï¼šNotNullã€NotEmptyã€NotBlank
* **é›†åˆéªŒè¯**ï¼šä½¿ç”¨ @Each è¿›è¡Œå¤§å°ã€å…ƒç´ éªŒè¯
* **è‡ªå®šä¹‰é€»è¾‘**ï¼šæ¡ä»¶ã€æ¯”è¾ƒã€ç­‰äºã€In/NotIn
* **åŒºåŸŸæ”¯æŒ**ï¼šä¸­æ–‡å­—ç¬¦ã€å…¬æ°‘èº«ä»½è¯ã€æ‰‹æœºå·ç 

-----

## ğŸš€ å¿«é€Ÿå¼€å§‹

### Maven ä¾èµ–

```xml
<dependency>
    <groupId>org.miaixz</groupId>
    <artifactId>bus-validate</artifactId>
    <version>8.x.x</version>
</dependency>
```

### åŸºç¡€éªŒè¯

#### 1. å®šä¹‰å¸¦æœ‰éªŒè¯æ³¨è§£çš„ Bean

```java
import lombok.Data;
import org.miaixz.bus.validate.magic.annotation.*;

@Data
public class User {

    @NotNull(errmsg = "ç”¨æˆ· ID ä¸èƒ½ä¸ºç©º")
    private Long id;

    @NotBlank(errmsg = "ç”¨æˆ·åä¸èƒ½ä¸ºç©º")
    @Size(min = 3, max = 20, errmsg = "ç”¨æˆ·åé•¿åº¦å¿…é¡»åœ¨ 3 åˆ° 20 ä¸ªå­—ç¬¦ä¹‹é—´")
    private String username;

    @Email(errmsg = "é‚®ç®±æ ¼å¼æ— æ•ˆ")
    private String email;

    @Mobile(errmsg = "æ‰‹æœºå·ç æ— æ•ˆ")
    private String phone;

    @Chinese(errmsg = "å§“åå¿…é¡»ä»…åŒ…å«ä¸­æ–‡å­—ç¬¦")
    private String realName;

    @Date(errmsg = "æ—¥æœŸæ ¼å¼æ— æ•ˆ")
    private String birthday;

    @NotNull
    @Compare(field = "password", errmsg = "å¯†ç ä¸åŒ¹é…")
    private String confirmPassword;

    private String password;
}
```

#### 2. æ‰§è¡ŒéªŒè¯

```java
import org.miaixz.bus.validate.Builder;
import org.miaixz.bus.validate.Collector;

public class UserService {

    public void createUser(User user) {
        // æ‰§è¡ŒéªŒè¯
        Collector result = Builder.on(user).access();

        // æ£€æŸ¥éªŒè¯æ˜¯å¦é€šè¿‡
        if (!result.isPass()) {
            // å¤„ç†éªŒè¯é”™è¯¯
            result.getResult().forEach(error -> {
                Criterion criterion = error.getCriterion();
                System.err.println("éªŒè¯å¤±è´¥ï¼š" + criterion.getErrmsg());
                System.err.println("å­—æ®µï¼š" + criterion.getField());
                System.err.println("å€¼ï¼š" + criterion.getParam("value"));
            });
            throw new ValidationException("ç”¨æˆ·éªŒè¯å¤±è´¥");
        }

        // ç»§ç»­åˆ›å»ºç”¨æˆ·
        saveUser(user);
    }
}
```

-----

## ğŸ“ å†…ç½®éªŒè¯å™¨

### ç©º/ç©ºéªŒè¯å™¨

| æ³¨è§£ | æè¿° | ç¤ºä¾‹ |
| :--- | :--- | :--- |
| `@NotNull` | éªŒè¯å€¼ä¸ä¸º null | `@NotNull(errmsg = "ID ä¸èƒ½ä¸ºç©º")` |
| `@Null` | éªŒè¯å€¼ä¸º null | `@Null(errmsg = "å¿…é¡»ä¸º null")` |
| `@NotEmpty` | éªŒè¯å€¼ä¸ä¸ºç©ºï¼ˆæ•°ç»„ã€é›†åˆã€æ˜ å°„ï¼‰ | `@NotEmpty(errmsg = "åˆ—è¡¨ä¸èƒ½ä¸ºç©º")` |
| `@NotBlank` | éªŒè¯å­—ç¬¦ä¸²ä¸ä¸ºç©ºï¼ˆå»é™¤ç©ºæ ¼åé•¿åº¦ > 0ï¼‰ | `@NotBlank(errmsg = "åç§°ä¸èƒ½ä¸ºç©º")` |
| `@Blank` | éªŒè¯å­—ç¬¦ä¸²ä¸ºç©º | `@Blank(errmsg = "å¿…é¡»ä¸ºç©º")` |

### å­—ç¬¦ä¸²éªŒè¯å™¨

| æ³¨è§£ | æè¿° | ç¤ºä¾‹ |
| :--- | :--- | :--- |
| `@Email` | éªŒè¯é‚®ç®±æ ¼å¼ | `@Email(errmsg = "é‚®ç®±æ— æ•ˆ")` |
| `@Mobile` | éªŒè¯æ‰‹æœºå·ç  | `@Mobile(errmsg = "æ‰‹æœºæ— æ•ˆ")` |
| `@Phone` | éªŒè¯ç”µè¯å·ç  | `@Phone(errmsg = "ç”µè¯æ— æ•ˆ")` |
| `@Chinese` | éªŒè¯ä¸­æ–‡å­—ç¬¦ | `@Chinese(errmsg = "å¿…é¡»ä¸ºä¸­æ–‡")` |
| `@English` | éªŒè¯è‹±æ–‡å­—ç¬¦ | `@English(errmsg = "å¿…é¡»ä¸ºè‹±æ–‡")` |
| `@URL` | éªŒè¯ URL æ ¼å¼ | `@URL(errmsg = "URL æ— æ•ˆ")` |
| `@IPAddress` | éªŒè¯ IP åœ°å€ | `@IPAddress(errmsg = "IP æ— æ•ˆ")` |
| `@CitizenId` | éªŒè¯ä¸­å›½å…¬æ°‘èº«ä»½è¯ | `@CitizenId(errmsg = "èº«ä»½è¯æ— æ•ˆ")` |

### å¤§å°/é•¿åº¦éªŒè¯å™¨

| æ³¨è§£ | æè¿° | ç¤ºä¾‹ |
| :--- | :--- | :--- |
| `@Size` | éªŒè¯æ•°ç»„ã€é›†åˆã€æ˜ å°„æˆ–å­—ç¬¦ä¸²é•¿åº¦çš„å¤§å° | `@Size(min = 1, max = 10)` |
| `@Length` | éªŒè¯å­—ç¬¦ä¸²é•¿åº¦ | `@Length(min = 5, max = 100)` |
| `@Date` | éªŒè¯æ—¥æœŸæ ¼å¼ | `@Date(format = "yyyy-MM-dd")` |

### æ•°å­—éªŒè¯å™¨

| æ³¨è§£ | æè¿° | ç¤ºä¾‹ |
| :--- | :--- | :--- |
| `@IntRange` | éªŒè¯æ•´æ•°èŒƒå›´ | `@IntRange(min = 0, max = 100)` |
| `@Multiple` | éªŒè¯å€¼æ˜¯å¦ä¸ºæŒ‡å®šæ•°å­—çš„å€æ•° | `@Multiple(value = 5)` |

### æ¯”è¾ƒéªŒè¯å™¨

| æ³¨è§£ | æè¿° | ç¤ºä¾‹ |
| :--- | :--- | :--- |
| `@Compare` | æ¯”è¾ƒä¸¤ä¸ªå­—æ®µ | `@Compare(field = "password")` |
| `@Equals` | æ£€æŸ¥å€¼æ˜¯å¦ç­‰äºæŒ‡å®šå€¼ | `@Equals(value = "ACTIVE")` |
| `@In` | æ£€æŸ¥å€¼æ˜¯å¦åœ¨æŒ‡å®šå€¼ä¸­ | `@In(values = {"A", "B", "C"})` |
| `@NotIn` | æ£€æŸ¥å€¼æ˜¯å¦ä¸åœ¨æŒ‡å®šå€¼ä¸­ | `@NotIn(values = {"X", "Y", "Z"})` |
| `@InEnum` | æ£€æŸ¥å€¼æ˜¯å¦ä¸ºæœ‰æ•ˆæšä¸¾å€¼ | `@InEnum(StatusEnum.class)` |

### å¸ƒå°”éªŒè¯å™¨

| æ³¨è§£ | æè¿° | ç¤ºä¾‹ |
| :--- | :--- | :--- |
| `@True` | éªŒè¯å€¼ä¸º true | `@True(errmsg = "å¿…é¡»ä¸º true")` |
| `@False` | éªŒè¯å€¼ä¸º false | `@False(errmsg = "å¿…é¡»ä¸º false")` |

### ç‰¹æ®ŠéªŒè¯å™¨

| æ³¨è§£ | æè¿° | ç¤ºä¾‹ |
| :--- | :--- | :--- |
| `@Regex` | ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼éªŒè¯ | `@Regex(value = "^[A-Z]\\d{5}$")` |
| `@Each` | éªŒè¯é›†åˆä¸­çš„æ¯ä¸ªå…ƒç´  | `@Each @NotNull` |
| `@Valid` | å¯ç”¨åµŒå¥—éªŒè¯ | `@Valid(inside = true)` |
| `@Group` | æŒ‡å®šéªŒè¯ç»„ | `@Group({"create", "update"})` |

-----

## ğŸ”§ é«˜çº§ç”¨æ³•

### åµŒå¥—å¯¹è±¡éªŒè¯

```java
@Data
public class Order {

    @NotNull
    private Long id;

    @Valid
    @NotNull
    private User user;

    @Valid
    @NotEmpty
    private List<OrderItem> items;
}

@Data
public class OrderItem {

    @NotNull
    private Long productId;

    @IntRange(min = 1, max = 100)
    private Integer quantity;

    @NotNull
    private BigDecimal price;
}

// éªŒè¯
Collector result = Builder.on(order).access();
```

### éªŒè¯ç»„

```java
@Data
public class Product {

    @NotNull(group = {"create", "update"})
    private Long id;

    @NotBlank(group = "create")
    @Size(min = 3, max = 50, group = {"create", "update"})
    private String name;

    @Null(group = "create")
    @NotNull(group = "update")
    private LocalDateTime updateTime;
}

// ä½¿ç”¨ç‰¹å®šç»„éªŒè¯
Context context = Context.newInstance();
context.addGroups("create");

Collector result = Builder.on(product, context).access();
```

### è‡ªå®šä¹‰éªŒè¯å™¨

#### æ­¥éª¤ 1ï¼šåˆ›å»ºéªŒè¯å™¨ç±»

```java
import org.miaixz.bus.validate.magic.Matcher;

public class AgeValidator implements Matcher {

    @Override
    public boolean on(Object value, Context context) {
        if (value == null) {
            return true; // null å€¼è¢«è§†ä¸ºæœ‰æ•ˆ
        }

        int age = (Integer) value;
        return age >= 18 && age <= 120;
    }
}
```

#### æ­¥éª¤ 2ï¼šåˆ›å»ºæ³¨è§£

```java
import org.miaixz.bus.validate.Builder;
import org.miaixz.bus.validate.magic.annotation.Complex;

import java.lang.annotation.*;

@Documented
@Retention(RetentionPolicy.RUNTIME)
@Target({ElementType.ANNOTATION_TYPE, ElementType.METHOD, ElementType.PARAMETER, ElementType.FIELD})
@Complex(value = "AgeValidator", clazz = AgeValidator.class)
public @interface ValidAge {

    String errcode() default Builder.DEFAULT_ERRCODE;
    String errmsg() default "å¹´é¾„å¿…é¡»åœ¨ 18 åˆ° 120 å²ä¹‹é—´";
    String[] group() default {};
    String field() default Builder.DEFAULT_FIELD;
}
```

#### æ­¥éª¤ 3ï¼šä½¿ç”¨è‡ªå®šä¹‰éªŒè¯å™¨

```java
public class Person {

    @ValidAge
    private Integer age;
}
```

### é›†åˆå…ƒç´ éªŒè¯

```java
public class BatchRequest {

    @Each @NotNull
    @Each @Size(min = 36, max = 36)
    private List<String> userIds;

    @Valid
    private List<User> users;
}
```

### æ¡ä»¶éªŒè¯

```java
@Data
public class RegistrationForm {

    private String userType; // "individual" æˆ– "company"

    @NotBlank
    private String username;

    // ä»…åœ¨ userType ä¸º "company" æ—¶éªŒè¯
    @NotBlank(errmsg = "å…¬å¸åç§°å¿…å¡«")
    @Reflect(condition = "userType == 'company'")
    private String companyName;
}
```

-----

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. ä½¿ç”¨æœ‰æ„ä¹‰çš„é”™è¯¯æ¶ˆæ¯

```java
// âœ… æ¨èï¼šæ¸…æ™°ä¸”å…·ä½“
@NotBlank(errmsg = "é‚®ç®±åœ°å€å¿…å¡«")
@Email(errmsg = "é‚®ç®±åœ°å€å¿…é¡»ä¸ºæœ‰æ•ˆæ ¼å¼ï¼ˆä¾‹å¦‚ï¼šuser@example.comï¼‰")
private String email;

// âŒ ä¸æ¨èï¼šæ¨¡ç³Šä¸”æ— å¸®åŠ©
@NotBlank(errmsg = "æ— æ•ˆ")
private String email;
```

### 2. ç»„åˆå¤šä¸ªéªŒè¯å™¨

```java
// âœ… æ¨èï¼šå…¨é¢éªŒè¯
@NotBlank
@Size(min = 8, max = 20)
@Regex(value = "^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d@$!%*#?&]+$",
        errmsg = "å¯†ç å¿…é¡»åŒ…å«å­—æ¯å’Œæ•°å­—")
private String password;
```

### 3. å¯¹ä¸åŒåœºæ™¯ä½¿ç”¨éªŒè¯ç»„

```java
public class User {

    @NotNull(group = {"create"})
    @Null(group = {"update"})
    private Long id;

    @NotBlank(group = {"create", "update"})
    private String username;
}
```

### 4. é€‚å½“å¤„ç†ç©ºå€¼

```java
// å¤§å¤šæ•°éªŒè¯å™¨é»˜è®¤è·³è¿‡ç©ºå€¼
// æ˜¾å¼ä½¿ç”¨ @NotNull å½“ç©ºå€¼æ— æ•ˆæ—¶
@NotNull
@Size(min = 1, max = 100)
private String name;

// å¯¹äºå¯é€‰å­—æ®µï¼Œé¿å…ä½¿ç”¨ @NotNull
@Email  // å…è®¸ç©ºï¼Œä½†å¦‚æœéç©ºåˆ™éªŒè¯
private String optionalEmail;
```

### 5. å¤æ‚å¯¹è±¡çš„åµŒå¥—éªŒè¯

```java
// å§‹ç»ˆå¯¹åµŒå¥—å¯¹è±¡ä½¿ç”¨ @Valid
@Valid
@NotNull
private Address address;

@Valid
@NotEmpty
private List<Phone> phones;
```

### 6. ä½¿ç”¨å ä½ç¬¦çš„è‡ªå®šä¹‰é”™è¯¯æ¶ˆæ¯

```java
// åœ¨é”™è¯¯æ¶ˆæ¯ä¸­ä½¿ç”¨å ä½ç¬¦
@Size(min = 3, max = 20, errmsg = "ç”¨æˆ·åé•¿åº¦å¿…é¡»åœ¨ ${min} åˆ° ${max} ä¸ªå­—ç¬¦ä¹‹é—´")
private String username;

// å¯ç”¨å ä½ç¬¦ï¼š${field}ã€${value}ã€${min}ã€${max} ç­‰
```

-----

## â“ å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•ä¼˜é›…åœ°å¤„ç†éªŒè¯å¤±è´¥ï¼Ÿ

```java
Collector result = Builder.on(user).access();
if (!result.isPass()) {
    Map<String, String> errors = new HashMap<>();
    result.getResult().forEach(error -> {
        Criterion c = error.getCriterion();
        errors.put(c.getField(), c.getErrmsg());
    });
    return ResponseEntity.badRequest().body(errors);
}
```

### Q2: å¯ä»¥åœ¨æ²¡æœ‰æ³¨è§£çš„æƒ…å†µä¸‹éªŒè¯å—ï¼Ÿ

```java
// æ˜¯çš„ï¼Œä½¿ç”¨ç¼–ç¨‹å¼éªŒè¯
Context context = Context.newInstance();
Collector result = Builder.on(value, new Annotation[]{}, context).access();
```

### Q3: å¦‚ä½•å›½é™…åŒ–è‡ªå®šä¹‰éªŒè¯æ¶ˆæ¯ï¼Ÿ

```java
// ä½¿ç”¨æ¶ˆæ¯ä»£ç å¹¶é€šè¿‡ MessageSource è§£æ
@Email(errcode = "validation.email.invalid")
private String email;

// åœ¨æœåŠ¡ä¸­
String message = messageSource.getMessage(
    criterion.getErrcode(),
    new Object[]{criterion.getField()},
    LocaleContextHolder.getLocale()
);
```

### Q4: å¦‚ä½•åœ¨éªŒè¯æœŸé—´è·³è¿‡æŸäº›å­—æ®µï¼Ÿ

```java
@Valid(skip = {"internalField", "tempField"})
private MyClass object;
```

### Q5: å¯ä»¥éªŒè¯æ–¹æ³•å‚æ•°å—ï¼Ÿ

```java
public void updateUser(@Valid User user) {
    // éªŒè¯å°†è‡ªåŠ¨è§¦å‘
}
```

### Q6: å¦‚ä½•ä¼˜åŒ–å¤§é›†åˆçš„æ€§èƒ½ï¼Ÿ

```java
// ä½¿ç”¨ @Each è¿›è¡Œå…ƒç´ çº§éªŒè¯
@Each @NotNull
@Each @Size(min = 1, max = 100)
private List<String> items;

// å¯¹äºéå¸¸å¤§çš„é›†åˆï¼Œè€ƒè™‘æ‰¹é‡éªŒè¯
List<List<String>> batches = Lists.partition(items, 1000);
for (List<String> batch : batches) {
    Builder.on(batch).access();
}
```

### Q7: å¦‚ä½•ç¦ç”¨åµŒå¥—éªŒè¯ï¼Ÿ

```java
@Valid(inside = false)
private User user;  // ä»…éªŒè¯ç”¨æˆ·æœ¬èº«ï¼Œä¸éªŒè¯åµŒå¥—å­—æ®µ
```

### Q8: å¯ä»¥ä½¿ç”¨å¤šä¸ªéªŒè¯ç»„å—ï¼Ÿ

```java
@Data
public class Product {

    @NotBlank(group = {"create", "update"})
    private String name;

    @Null(group = "create")
    @NotNull(group = "update")
    private Long id;
}

// éªŒè¯å¤šä¸ªç»„
Context context = Context.newInstance();
context.addGroups("create", "update");
Builder.on(product, context).access();
```

-----

## ğŸ”„ ç‰ˆæœ¬å…¼å®¹æ€§

| Bus Validate ç‰ˆæœ¬ | JDK ç‰ˆæœ¬ | è¯´æ˜ |
| :--- | :--- | :--- |
| 8.x | 17+ | éœ€è¦ Java 17 æˆ–æ›´é«˜ç‰ˆæœ¬ |
| 7.x | 11+ | æ”¯æŒ Java 11 åŠæ›´é«˜ç‰ˆæœ¬ |

-----

## ğŸ“Š éªŒè¯å™¨å‚è€ƒè¡¨

### å®Œæ•´æ³¨è§£åˆ—è¡¨

| æ³¨è§£ | ç›®æ ‡ç±»å‹ | ç©ºå€¼å¤„ç† | æè¿° |
| :--- | :--- | :--- | :--- |
| `@NotNull` | æ‰€æœ‰ | âŒ æ— æ•ˆ | å€¼ä¸èƒ½ä¸º null |
| `@Null` | æ‰€æœ‰ | âœ… æœ‰æ•ˆ | å€¼å¿…é¡»ä¸º null |
| `@NotEmpty` | æ•°ç»„ã€é›†åˆã€æ˜ å°„ã€å­—ç¬¦ä¸² | âŒ æ— æ•ˆ | å€¼ä¸èƒ½ä¸ºç©º |
| `@NotBlank` | CharSequence | âŒ æ— æ•ˆ | å»é™¤ç©ºæ ¼åçš„é•¿åº¦å¿…é¡» > 0 |
| `@Blank` | CharSequence | âœ… æœ‰æ•ˆ | å»é™¤ç©ºæ ¼åçš„é•¿åº¦å¿…é¡»ä¸º 0 |
| `@Email` | CharSequence | âœ… æœ‰æ•ˆ | å¿…é¡»ä¸ºæœ‰æ•ˆé‚®ç®±æ ¼å¼ |
| `@Mobile` | CharSequence | âœ… æœ‰æ•ˆ | å¿…é¡»ä¸ºæœ‰æ•ˆæ‰‹æœºå·ç  |
| `@Phone` | CharSequence | âœ… æœ‰æ•ˆ | å¿…é¡»ä¸ºæœ‰æ•ˆç”µè¯å·ç  |
| `@Chinese` | CharSequence | âœ… æœ‰æ•ˆ | å¿…é¡»åŒ…å«ä¸­æ–‡å­—ç¬¦ |
| `@English` | CharSequence | âœ… æœ‰æ•ˆ | å¿…é¡»åŒ…å«è‹±æ–‡å­—ç¬¦ |
| `@IPAddress` | CharSequence | âœ… æœ‰æ•ˆ | å¿…é¡»ä¸ºæœ‰æ•ˆ IP åœ°å€ |
| `@CitizenId` | CharSequence | âœ… æœ‰æ•ˆ | å¿…é¡»ä¸ºæœ‰æ•ˆå…¬æ°‘èº«ä»½è¯ |
| `@Size` | æ•°ç»„ã€é›†åˆã€æ˜ å°„ã€CharSequence | âœ… æœ‰æ•ˆ | å¤§å°/é•¿åº¦å¿…é¡»åœ¨èŒƒå›´å†… |
| `@Length` | CharSequence | âœ… æœ‰æ•ˆ | é•¿åº¦å¿…é¡»åœ¨èŒƒå›´å†… |
| `@Date` | CharSequence | âœ… æœ‰æ•ˆ | å¿…é¡»åŒ¹é…æ—¥æœŸæ ¼å¼ |
| `@IntRange` | æ•°å­—ã€CharSequence | âœ… æœ‰æ•ˆ | å¿…é¡»åœ¨æ•´æ•°èŒƒå›´å†… |
| `@Multiple` | æ•°å­—ã€CharSequence | âœ… æœ‰æ•ˆ | å¿…é¡»ä¸ºå€¼çš„å€æ•° |
| `@True` | å¸ƒå°” | âœ… æœ‰æ•ˆ | å¿…é¡»ä¸º true |
| `@False` | å¸ƒå°” | âœ… æœ‰æ•ˆ | å¿…é¡»ä¸º false |
| `@Compare` | æ‰€æœ‰ | âœ… æœ‰æ•ˆ | å¿…é¡»ä¸å…¶ä»–å­—æ®µæ¯”è¾ƒ |
| `@Equals` | æ‰€æœ‰ | âœ… æœ‰æ•ˆ | å¿…é¡»ç­‰äºæŒ‡å®šå€¼ |
| `@In` | æ‰€æœ‰ | âœ… æœ‰æ•ˆ | å¿…é¡»åœ¨æŒ‡å®šå€¼ä¸­ |
| `@NotIn` | æ‰€æœ‰ | âœ… æœ‰æ•ˆ | å¿…é¡»ä¸åœ¨æŒ‡å®šå€¼ä¸­ |
| `@InEnum` | CharSequence | âœ… æœ‰æ•ˆ | å¿…é¡»ä¸ºæœ‰æ•ˆæšä¸¾å€¼ |
| `@Regex` | CharSequence | âœ… æœ‰æ•ˆ | å¿…é¡»åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ |
| `@Each` | æ•°ç»„ã€é›†åˆ | - | éªŒè¯æ¯ä¸ªå…ƒç´  |
| `@Valid` | æ‰€æœ‰ | - | å¯ç”¨åµŒå¥—éªŒè¯ |

-----

## ğŸ¯ å¸¸è§ç”¨ä¾‹

### è¡¨å•éªŒè¯

```java
@Data
public class LoginForm {

    @NotBlank
    @Email
    private String email;

    @NotBlank
    @Size(min = 8, max = 32)
    private String password;

    @True(errmsg = "æ‚¨å¿…é¡»æ¥å—æ¡æ¬¾å’Œæ¡ä»¶")
    private Boolean acceptTerms;
}
```

### API è¯·æ±‚éªŒè¯

```java
@Data
public class CreateOrderRequest {

    @NotNull
    private Long userId;

    @Valid
    @NotEmpty
    private List<OrderItem> items;

    @NotNull
    @Compare(field = "totalAmount", errmsg = "æ”¯ä»˜é‡‘é¢å¿…é¡»ä¸æ€»è®¡åŒ¹é…")
    private BigDecimal paymentAmount;

    private BigDecimal totalAmount;
}
```

### æ•°æ®å¯¼å…¥éªŒè¯

```java
@Data
public class UserDataImport {

    @Each @NotNull
    @Each @CitizenId
    private List<String> citizenIds;

    @Each @Date(format = "yyyy-MM-dd")
    private List<String> birthDates;

    @Valid
    private List<User> users;
}
```

-----

## ğŸ”— é“¾æ¥

- **é¡¹ç›®ä¸»é¡µ**ï¼š[https://github.com/818000/bus](https://github.com/818000/bus)
- **é—®é¢˜**ï¼š[https://github.com/818000/bus/issues](https://github.com/818000/bus/issues)
- **Bus æ¡†æ¶æ¨¡å—**ï¼š
  - [bus-core](https://github.com/818000/bus/tree/main/bus-core) - æ ¸å¿ƒå·¥å…·
  - [bus-mapper](https://github.com/818000/bus/tree/main/bus-mapper) - MyBatis å¢å¼º
  - [bus-logger](https://github.com/818000/bus/tree/main/bus-logger) - æ—¥å¿—æ¡†æ¶
  - [bus-crypto](https://github.com/818000/bus/tree/main/bus-crypto) - åŠ å¯†
  - [bus-extra](https://github.com/818000/bus/tree/main/bus-extra) - é¢å¤–å·¥å…·
