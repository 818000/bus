# GraalVM Native Image configuration for bus-mapper
#
# This file defines the default build arguments for creating a Native Image
# of applications using bus-mapper.
#
# Usage:
#   Simply add bus-mapper as a dependency, and these configurations will be
#   automatically applied during Native Image compilation.

# Build arguments - initialization
Args = --initialize-at-build-time=org.miaixz.bus.mapper \
       --initialize-at-build-time=org.apache.ibatis.session.Configuration \
       --initialize-at-build-time=org.apache.ibatis.scripting

# Build arguments - GC and optimization
Args = --gc=G1 \
       -O3 \
       -H:+ReportExceptionStackTraces \
       -H:+PrintClassInitialization

# Build arguments - no fallback
Args = --no-fallback

# Include resources
Args = -H:IncludeResources=.*\\.xml$ \
       -H:IncludeResources=.*\\.properties$ \
       -H:IncludeResources=.*\\.ya?ml$ \
       -H:IncludeResources=.*\\.json$ \
       -H:IncludeResources=META-INF/services/.*

# Reflection configuration
Args = -H:ReflectionConfigurationFiles=${.}/reflect-config.json

# Resource configuration
Args = -H:ResourceConfigurationFiles=${.}/resource-config.json

